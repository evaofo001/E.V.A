syntax = "proto3";

package eva.core;

message PolicyDecision {
  bool allowed = 1;
  float confidence = 2;
  string reason = 3;
  repeated string violated_rules = 4;
}

message Message {
  string content = 1;
  string user_id = 2;
  int64 timestamp = 3;
}

message EthicalRule {
  string id = 1;
  string description = 2;
  int32 priority = 3;
  bool enabled = 4;
}

message LearnedPattern {
  string pattern_id = 1;
  string description = 2;
  float confidence = 3;
  repeated string keywords = 4;
  int64 learned_at = 5;
}

message TrainingData {
  string conversation_id = 1;
  repeated Message messages = 2;
  repeated LearnedPattern patterns = 3;
  float quality_score = 4;
}
